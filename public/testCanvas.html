<!DOCTYPE html>
<html>

<head>
    <title></title>
    <style type="text/css">
    .canvas {
        border: 1px solid #000000;
        margin: 50px;
    }

    .hide {
        display: none
    }
    </style>
</head>

<body>
    <p>Press the left and right arrow key to make a space invader appear and move back and forth</p>
    <!-- canvas element -->
    <canvas class="canvas" id="lines" width="500" height="350">
    </canvas>
    <!-- image to place inside the element -->
    <img src='space-invader.jpg' id='screamImg' style='width: 50px; height: 50px; display: none;'>
    <!-- start of javascript -->
    <script type="text/javascript">
    //global variables
    var xLocation = 100;
    var c = document.querySelector("#lines");
    var ctx = c.getContext("2d");
    var img = document.createElement('img');
    img.src = 'space-invader.jpg';
    //function to 'clear' when you press a key
    function clearCanvas() {
        c.width = c.width;
    }
    //draw a few lines
    // function to accept a left or right arrow keypress
    function keyPressHandler(event) {

            clearCanvas();
            var keyPress = event.keyCode;
            console.log(keyPress);
            if(keyPress === 32){
                console.log('hey');
                ctx.moveTo(xLocation + 25, 300);
                ctx.lineTo(xLocation + 25, 0);
                ctx.stroke();
                ctx.drawImage(img, xLocation, 300);
            }
            if (keyPress === 37) {
                xLocation -= 10;
                ctx.drawImage(img, xLocation, 300);
            }
            if (keyPress === 39) {
                xLocation += 10;
                ctx.drawImage(img, xLocation, 300);
            }

    }
    //keypress event listener
    window.addEventListener('keydown', keyPressHandler);
    function later() {
        ctx.drawImage(img, xLocation, 300);
        // img.addEventListener("load", function() {
        //     ctx.drawImage(img, xLocation, 300);
        // }, false);
    };
    // for both image examples
    //load this before the window loads
    //better than document.onload because it will make sure the images load before the code happens
    window.onload = function() {
        var c = document.querySelector("#lines");
        var ctx = c.getContext("2d");
        var img = document.createElement('img');
        img.src = 'space-invader.jpg';
        later();
    }
    </script>
</body>

</html>